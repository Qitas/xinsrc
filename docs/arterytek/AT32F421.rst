
.. _at32f421:

AT32F421
===============

* 关键词：``Cortex-M4`` ``120MHz`` ``COMP`` ``sLib`` ``ERTC`` ``TSSOP20``
* 资源库：`GitHub <https://github.com/SoCXin/AT32F421>`_

.. contents::
    :local:

Xin简介
-----------

:ref:`arterytek` :ref:`cortex_m4` 单核 MCU，高达120MHz的CPU运算速度与内建数字信号处理器(DSP)，最高可支持64KB闪存存储器(Flash)及16KB随机存取存储器(SRAM)

片上集成了多达2个USART、2个SPI(可复用I²S)、2个I²C、1个16位高级定时器、5个16位通用定时器，和5通道DMA控制器。 同时还扩展了1个高速轨到轨输入/输出模拟电压比较器，1个采样率高达2M SPS的12位15通道高速ADC。

几乎所有I/O口可容忍5V输入信号，且所有I/O口均为快速I/O，具有多种可选功能还支持端口重映射，极佳的灵活性和易用性满足多种应用需求。

.. contents::
    :local:

规格参数
~~~~~~~~~~~

基本参数
^^^^^^^^^^^

* 供电电压：2.4V - 3.6V
* 工作温度：-40°C - 105°C
* 内核频率：120 MHz

特征参数
^^^^^^^^^^^

* 15ch ADC（12bit 2MSPS）
* 2 x USART
* 2 x I2C + 2 x SPI
* ERTC (1ppm的分辨率)
* COMP (轨到轨比较器)
* sLib安全库 (Security Library)

.. note::
    :ref:`arterytek` 自行开发的 :ref:`arterytek_slib` 可支持密码保护指定范围程序区，方案商烧录核心算法到此区域，提供给下游客户做二次开发，强化了产品本身的安全性、可靠性和二次开发的使用便利度。

芯片架构
~~~~~~~~~~~

.. image:: images/AT32F421S.png
    :target: https://www.arterytek.com/cn/product/AT32F421.jsp#Resource

时钟体系
^^^^^^^^^^^^^

.. image:: images/AT32F421C.png
    :target: https://www.arterytek.com/cn/product/AT32F421.jsp#Resource



Xin选择
-----------

.. contents::
    :local:

.. hint::
    :ref:`at32f421` 定位超值产品，主要替代F030、F103、E230、F330等型号，相对对标产品而言拥有更高的制程工艺和主频性能。


品牌对比
~~~~~~~~~

.. list-table::
    :header-rows:  1

    * - Xin
      - DMIPS
      - RAM
      - FLASH
      - UART
      - ADC
      - TIM
      - COMP
    * - :ref:`at32f421`
      - 150
      - 8/16
      - 16/32/64
      - 2
      - 2MSPS
      - 5+1
      - 1
    * - :ref:`stm32f030`
      - 44
      - 32
      - 64/128/256
      - 2/3/5
      - 2.0B
      - USB OTG
      - NO
    * - :ref:`stm32f103`
      - 90
      - 32
      - 64/128/256
      - 2/3/5
      - 2.0B
      - USB OTG
      - NO
    * - GD32F330
      - 135
      - 4/8/16
      - 16/32/64/128
      - 2
      - 2.6MSPS
      - 5+1
      - 1
    * - GD32E230
      - 90
      - 4/8
      - 16/32/64
      - 2
      - 2.6MSPS
      - 5+1
      - 1

与 :ref:`stm32f030` 系列管脚兼容

型号对比
~~~~~~~~~


.. list-table::
    :header-rows:  1

    * - Name
      - DMIPS
      - RAM
      - FLASH
      - UART
      - CAN
      - USB
      - SPIM
    * - :ref:`at32f421`
      - 150
      - 8/16
      - 16/32/64
      - 2
      - NO
      - NO
      - NO
    * - :ref:`at32f415`
      - 175
      - 32
      - 64/128/256
      - 2/3/5
      - 2.0B
      - USB OTG
      - 16M
    * - :ref:`at32f413`
      - 250
      - 16/32/64
      - 64/128/256
      - 2/3/5
      - 2 x 2.0B
      - USB2.0
      - 16M
    * - :ref:`at32f403`
      - 250/300
      - 16/32/64
      - 64/128/256
      - 2/3/5
      - 2 x 2.0B
      - USB2.0
      - 16M

:ref:`arterytek` 目前只有 :ref:`cortex_m4` 单核的 MCU产品，均具备 :ref:`arterytek_slib` 功能

版本对比
~~~~~~~~~

.. image:: images/AT32F421.png
    :target: https://www.arterytek.com/cn/product/AT32F421.jsp#Resource

.. note::
    基于TSSOP20封装的 :ref:`cortex_m4` 120MHz主频的MCU规格实属少见。


Xin应用
-----------

.. contents::
    :local:

.. image:: images/B_AT32F421.jpg
    :target: https://item.taobao.com/item.htm?_u=ogas3eu93a4&id=632845784689


通信应用
~~~~~~~~~~~

.. warning::
     :ref:`at32f421` 除了高主频并没有配置太多外设，存储资源少，只用于控制通信器件实现数据转发较合适

控制应用
~~~~~~~~~~~



Xin总结
--------------

.. contents::
    :local:

要点提示
~~~~~~~~~~~~~



问题整理
~~~~~~~~~~~~~




