<div id="backupcontent">
    <br>
    <br>
    <div class="row">
        <div class="col-sm-6">
            <legend>数据导出</legend>
            <h6 class="text-muted">备份数据将通过json格式下载到本地 </h6>
            <div>
                <button class="btn btn-link btn-sm" onclick="backupuser();">导出用户信息</button>
                <a id="downloadUser" style="display:none"></a>
                <button class="btn btn-link btn-sm" onclick="backupset();">导出设备配置</button>
                <a id="downloadSet" style="display:none"></a>
                <br>
            </div>
            <br>
            <br>
            <div>
                <legend>数据导入</legend>
                <h6 class="text-muted">设备将从本地获取相应json文件导入</h6>
                <label for="restoreUser" class="btn btn-link btn-sm">导入用户数据</label>
                <input id="restoreUser" type="file" accept="text/json" onchange="restoreUser();" style="display:none;">
                <label for="restoreSet" class="btn btn-link btn-sm">导入配置数据</label>
                <input id="restoreSet" type="file" accept="text/json" onchange="restoreSet();" style="display:none;">
            </div>
            <br>
            <!-- <div>
                <legend>重启设备</legend>
                <h6 class="text-muted">点击执行重启，不保存相应修改</h6>
                <label for="restart" class="btn btn-link btn-sm">重启设备</label>
                <button id="restart" class="btn btn-link btn-sm" onclick="restartESP();" style="display:none;"></button>
            </div> -->
            <br>
            <div id="restoremodal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">导入中...</h4>
                        </div>
                        <div class="modal-body">
                            <div id="pbar" class="progress">
                                <div id="dynamic" class="progress-bar progress-bar-primary progress-bar-striped active">数据导入中...</div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" id="restoreclose" style="display:none;" class="btn btn-default" data-dismiss="modal">关闭</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
    <br>
</div>

<div id="progresscontent">
    <br>
    <br>
    <div class="container">
        <div class="row">
            <br>
            <div class="col-md-8 col-md-offset-2">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">请稍候...</h3>
                    </div>
                    <div class="panel-body">
                        <div class="progress">
                            <div id="updateprog" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%">0%
                            </div>
                        </div>
                    </div>
                    <div class="panel-footer text-center" id="reconnect" style="display:none;"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="generalcontent">
    <br>
    <br>
    <legend>用户配置</legend>
    <h6 class="text-muted"><a href="https://github.com/Qful/RFID/tree/master/project">用户配置可参阅此链接</a>.</h6>
	    <br>
    <div class="row form-group">
        <label class="col-xs-3">设备名称<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="也是hostname ，可以通过 http://hostname.local登陆设备"></i></label>
        <span class="col-xs-9 col-md-5">
              <input class="form-control input-sm" placeholder="设备名称" value="QRFID" id="hostname" type="text">
              </span>
        <br>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">登陆密码<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="登陆到设备的密码"></i></label>
        <span class="col-xs-9 col-md-5">
              <input class="form-control input-sm" placeholder="Administrator Password" id="adminpwd"  type="password">
              </span>
        <br>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">自动重启<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="通过自动重启保证长时间稳定性"></i></label>
        <span class="col-xs-9 col-md-5">
                <select class="form-control input-sm" id="autorestart" name="autorestart">
                  <option value='0'>从不</option>
                  <option value='86400' selected> 每天</option>
                  <option value='604800'>每周</option>
                  <option value='18144000'>每月</option>
                </select>
              </span>
        <br>
        <br>
        <br>
        <div class="col-xs-9 col-md-8">
            <button onclick="savegeneral()" class="btn btn-primary btn-sm pull-right">保存</button>
        </div>
    </div>
    <div style="clear:both;">
        <br>
        <br>
    </div>
</div>

<div id="hardwarecontent">
    <br>
    <br>
    <legend>硬件配置</legend>
    <h6 class="text-muted"><a href="https://github.com/Qful/RFID/tree/master/project">请对照实际硬件接口连接外设</a></h6>
	 <br>
    <div class="row form-group">
        <label class="col-xs-3">读卡器<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose RFID reader type."></i></label>
        <div class="col-xs-9 col-md-5">
            <select class="form-control input-sm" id="readertype" onchange="handleReader();">
                <option selected="selected" value="0">自动</option>
                <option value="1">NFC(PN532)</option>
                <option value="2">RFID(RC522 V2)</option>
                <option value="3">RFID(RC522 12)</option>
                <option value="4">RFID(RC522 clone)</option>
                <option value="5">125KHz(RDM6300)</option>
                <option value="6">Wiegand</option>
            </select>
        </div>
    </div>
    <div class="" id="wiegandForm" style="display:none">
        <div class="row form-group">
            <label class="col-xs-3">Wiegand D0<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose Wiegand D0 pin."></i></label>
            <span class="col-xs-9 col-md-5">
                  <select class="form-control input-sm" id="wg0pin">
                    <option value="0">GPIO-0</option>
                    <option value="1">GPIO-1</option>
                    <option value="2">GPIO-2</option>
                    <option selected="selected" value="4">GPIO-4</option>
                    <option value="5">GPIO-5</option>
                    <option value="12">GPIO-12</option>
                    <option value="13">GPIO-13</option>
                    <option value="14">GPIO-14</option>
                    <option value="15">GPIO-15</option>
                    <option value="16">GPIO-16</option>
                  </select>
                </span>
        </div>
        <div class="row form-group">
            <label class="col-xs-3">Wiegand D1<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose Wiegand D1 pin."></i></label>
            <span class="col-xs-9 col-md-5">
                  <select class="form-control input-sm" id="wg1pin">
                    <option value="0">GPIO-0</option>
                    <option value="1">GPIO-1</option>
                    <option value="2">GPIO-2</option>
                    <option value="4">GPIO-4</option>
                    <option selected="selected" value="5">GPIO-5</option>
                    <option value="12">GPIO-12</option>
                    <option value="13">GPIO-13</option>
                    <option value="14">GPIO-14</option>
                    <option value="15">GPIO-15</option>
                    <option value="16">GPIO-16</option>
                  </select>
                </span>
        </div>
    </div>
    <div class="" id="mfrc522Form" style="display:none">
        <div class="row form-group">
            <label class="col-xs-3">SPI SS/SDA<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose which ESP port is connected to RFID Hardware SDA pin"></i></label>
            <span class="col-xs-9 col-md-5">
                  <select class="form-control input-sm" id="gpioss">
                    <option value="0">GPIO-0</option>
                    <option value="2">GPIO-2</option>
                    <option value="4">GPIO-4</option>
                    <option value="5">GPIO-5</option>
                    <option selected="selected" value="15">GPIO-15</option>
                    <option value="16">GPIO-16</option>
                  </select>
                </span>
        </div>
        <div class="row form-group" id="rc522gain">
            <label class="col-xs-3">天线增益<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Higher value means further the RFID reader's reading distance"></i></label>
            <span class="col-xs-9 col-md-5">
                  <select class="form-control input-sm" id="gain">
                    <option value="112">Max (48 db)</option>
                    <option value="96">43 db</option>
                    <option value="48">38 db</option>
                    <option selected="selected" value="32">Avg (33 db)</option>
                    <option value="16">23 db</option>
                    <option value="0">Min (18 db)</option>
                  </select>
                </span>
        </div>
    </div>
    <hr>
    <div class="row form-group">
        <label class="col-xs-3">状态输入<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="选择状态检测脚 &quot;Door Status&quot; "></i></label>
        <span class="col-xs-9 col-md-5">
              <select class="form-control input-sm" id="doorstatpin">
                <option selected="selected" value="255">None</option>
                <option value="0">GPIO-0</option>
                <option value="1">GPIO-1</option>
                <option value="2">GPIO-2</option>
                <option value="4">GPIO-4</option>
                <option value="5">GPIO-5</option>
                <option value="12">GPIO-12</option>
                <option value="13">GPIO-13</option>
                <option value="14">GPIO-14</option>
                <option value="15">GPIO-15</option>
                <option value="16">GPIO-16</option>
              </select>
        </span>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">开关控制<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose a pin to have a button with equivalent behaviour to scan a valid card (open/close button)."></i></label>
        <span class="col-xs-9 col-md-5">
            <select class="form-control input-sm" id="openlockpin">
                <option selected="selected" value="255">None</option>
                <option value="4">GPIO-4</option>
                <option value="5">GPIO-5</option>
                <option value="12">GPIO-12</option>
                <option value="13">GPIO-13</option>
                <option value="14">GPIO-14</option>
            </select>
        </span>
    </div>
    <hr>
    <div class="row form-group">
        <label class="col-xs-3">声光输出<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose &quot;WiFi LED&quot; pin"></i></label>
        <span class="col-xs-9 col-md-5">
                <select class="form-control input-sm" id="wifipin">
                <option value="255">None</option>
                <option value="0">GPIO-0</option>
                <option value="1">GPIO-1</option>
                <option  selected="selected" value="2">GPIO-2 (BUILTIN)</option>
                <option value="4">GPIO-4</option>
                <option value="5">GPIO-5</option>
                <option value="12">GPIO-12</option>
                <option value="13">GPIO-13</option>
                <option value="14">GPIO-14</option>
                <option value="15">GPIO-15</option>
                <option value="16">GPIO-16</option>
                </select>
        </span>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">输出接口<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose which ESP port is connected to your relay"></i></label>
        <span class="col-xs-6 col-md-5">
                <select class="form-control input-sm" id="gpiorly">
                     <option selected="selected" value="255">None</option>
                    <option value="0">GPIO-0</option>
                    <option value="1">GPIO-1</option>
                    <option value="2">GPIO-2</option>
                    <option value="4">GPIO-4</option>
                    <option value="5">GPIO-5</option>
                    <option value="12">GPIO-12</option>
                    <option value="13">GPIO-13</option>
                    <option value="14">GPIO-14</option>
                    <option value="15">GPIO-15</option>
                    <option value="16">GPIO-16</option>
                </select>
              </span>
        <span class="col-xs-3">
            <button id="testb" type="button" class="btn btn-primary btn-xs" onclick="testRelay()">测试</button><i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="left" data-content="Test previous relay setting. Keep in mind that this is actually triggers the relay."></i>
        </span>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">输出状态<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Depending on your electrical setup, you can choose the relay type"></i></label>
        <span class="col-xs-9 col-md-5">
            <select class="form-control input-sm" id="typerly">
              <option selected="selected" value="1">高电平</option>
              <option value="0">低电平</option>
            </select>
            </span>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">输出模式<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Use momentary method for door lock counterparts, and the continuous one for electromagnetic locks."></i></label>
        <span class="col-xs-9 col-md-5">
            <select class="form-control input-sm" id="lockType" onchange="handleLock();">
                <option selected="selected" value="0">脉冲模式</option>
                <option value="1">电平模式</option>
            </select>
        </span>
    </div>
    <div class="row form-group" id="activateTimeForm">
        <label class="col-xs-3">输出时长<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Relay Toggle time in Microseconds, usually 300ms is enough for the most electric door locks"></i></label>
        <span class="col-xs-9 col-md-5">
            <input class="form-control input-sm" value="300" placeholder="in Microsecond" id="delay" type="text" name="hightime">
        </span>
    </div>
    <div class="row form-group">
        <br>
        <div class="col-xs-9 col-md-8">
            <button onclick="savehardware()" class="btn btn-primary btn-sm pull-right">保存</button>
        </div>
    </div>
    <br>
    <br>
</div>

<div id="logcontent">
    <br>
    <br>
    <div class="text-center" id="loading-img">
        <h5>同步数据...<span id="loadpages"></span></h5>
        <br>
    </div>
    <div>
        <legend>通行记录</legend>
        <h6 class="text-muted"> <a href="http://www.OS-Q.com/">设备本地记录近期读写到的数据</a> </h6>
        <br>
        <div class="panel panel-default">
            <div>
                <table id="latestlogtable" class="table" data-paging="true" data-filtering="true" data-sorting="true" data-editing="false" data-state="true"></table>
            </div>
        </div>
        <button onclick="clearlatest()" class="btn btn-primary btn-sm">清除记录</button>
        <div style="clear:both;">
            <br>
            <br>
        </div>
    </div>
    <br>
    <br>
</div>

<div id="eventcontent">
    <br>
    <br>
    <div class="text-center" id="loading-img">
        <h5>同步数据...<span id="loadpages"></span></h5>
        <br>
    </div>
    <div>
        <legend>设备日志</legend>
        <h6 class="text-muted">设备日志记录了该设备运行中的各项数据 ，不同事件类型总共4类  <a href="http://www.OS-Q.com/">OS-Q</a> .</h6>
        <br>
        <div class="panel panel-default">
            <div>
                <table id="eventtable" class="table" data-paging="true" data-filtering="true" data-sorting="true" data-editing="false" data-state="true"></table>
            </div>
        </div>
        <button onclick="clearevent()" class="btn btn-primary btn-sm">清除记录</button>
        <div style="clear:both;">
            <br>
            <br>
        </div>
    </div>
</div>

<div id="mqttcontent">
        <br>
        <legend>网络通信</legend>
        <h6 class="text-muted"><a href="https://github.com/Qful/RFID/tree/master/project"> 网络同步通信配置，用于远程数据收发</a> </h6>
        <br>
        <div class="row form-group">
            <label class="col-xs-3">MQTT通信<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="使用MQTT通信"></i></label>
            <div class="col-xs-9">
                <form>
                    <label class="radio-inline">
                        <input type="radio" value="1" name="mqttenabled" onclick="handleMQTT();" >打开</label>
                    <label class="radio-inline">
                        <input type="radio" value="0" name="mqttenabled" onclick="handleMQTT();" checked>关闭</label>
                </form>
            </div>
        </div>
        <hr>
        <div id="mqtten" style="display:block">
            <div class="row form-group">
                <label class="col-xs-3">通信地址<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="MQTT server IP Address or url"></i></label>
                <span class="col-xs-9 col-md-5">
                    <input class="form-control input-sm" placeholder="MQTT Host" id="mqtthost" type="text">
                </span>
                <br>
            </div>
            <div class="row form-group">
                <label class="col-xs-3">通信端口<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="MQTT server port"></i></label>
                <span class="col-xs-9 col-md-5">
                    <input class="form-control input-sm" placeholder="MQTT Port" value="" id="mqttport" type="text">
                </span>
                <br>
            </div>
            <div class="row form-group">
                <label class="col-xs-3">登陆名称<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="MQTT user"></i></label>
                <span class="col-xs-9 col-md-5">
                    <input class="form-control input-sm" placeholder="" value="" id="mqttuser" type="text">
                </span>
                <br>
            </div>
            <div class="row form-group">
                <label class="col-xs-3">登陆密码<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="MQTT server password if any"></i></label>
                <span class="col-xs-9 col-md-5">
                    <input class="form-control input-sm" placeholder="" value="" id="mqttpwd"  type="password">
                </span>
                <br>
            </div>
            <div class="row form-group">
                <label class="col-xs-3">订阅主题<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="MQTT topic"></i></label>
                <span class="col-xs-9 col-md-5">
                    <input class="form-control input-sm" placeholder="MQTT topic" value="" id="mqtttopic" type="text">
                </span>
                <br>
            </div>
            <div class="row form-group">   
                    <label class="col-xs-3">同步周期<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="MQTT通信同步周期，时间单位s"></i></label>
                    <span class="col-xs-9 col-md-5">
                        <input class="form-control input-sm" placeholder="Sync rate" value="" id="syncrate" type="text">
                    </span>
                    <br>
            </div>
            <div class="row form-group">
                <label class="col-xs-3">日志上报<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="使用设备MQTT日志功能"></i></label>
                <div class="col-xs-9">
                    <form>
                        <label class="radio-inline"><input type="radio" value="1" name="mqttlog">打开</label>
                        <label class="radio-inline"><input type="radio" value="0" name="mqttlog"  checked>关闭</label>
                    </form>
                </div>
                <br> 
            </div>
            <br>
            <div class="col-xs-9 col-md-8">
            <span class="pull-right">
                <button onclick="sendtestmessage()" class="btn btn-primary btn-sm">发送测试消息</button>
                &nbsp;&nbsp;
                <button onclick="savemqtt()" class="btn btn-primary btn-sm">保存配置</button>
            </span>
            </div>
        </div>
</div>

<div id="networkcontent">
    <br>
    <legend>Wi-Fi配置</legend>
    <h6 class="text-muted">设备Wi-Fi模式：AP(接入点)模式 / Client(客户端)模式 </h6>
    <br>
    <div class="row form-group">
        <label class="col-xs-3">模式选择<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="You can run your ESP in AP Mode or Client Mode. In client mode you will need to connect to an existing Wi-Fi network, in AP Mode ESP creates a Wi-Fi network itself."></i></label>
        <div class="col-xs-9">
            <form>
                <label class="radio-inline">
                    <input type="radio" value="1" name="wmode" id="wmodeap" onclick="handleAP();" checked>AP(接入点)网关模式</label>
                <label class="radio-inline">
                    <input type="radio" value="0" name="wmode" id="wmodesta" onclick="handleSTA();">Client(客户端)终端模式</label>
            </form>
        </div>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">Wi-Fi热点<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Wi-Fi 热点名称"></i></label>
        <span class="col-xs-7 col-md-5">
                <input class="form-control input-sm" id="inputtohide" type="text" name="ap_ssid">
                <select class="form-control input-sm" style="display:none;" id="ssid" onchange="listBSSID();"></select>
              </span>
        <span class="col-xs-2">
                <button id="scanb" class="btn btn-primary btn-xs" onclick="scanWifi()">扫描</button>
              </span>
    </div>
    <div class="row form-group" style="display:block" id="hideBSSID">
        <label class="col-xs-3">Wi-Fi标识<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Wi-Fi 热点唯一标识信息"></i></label>
        <span class="col-xs-9 col-md-5">
              <input id="wifibssid" class="form-control input-sm" type="text" name="ap_bssid">
              </span>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">Wi-Fi密码<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Wi-Fi 连接密码"></i></label>
        <span class="col-xs-9 col-md-5">
              <input id="wifipass" class="form-control input-sm" name="ap_passwd" type="password">
              </span>
    </div>
    <div class="row form-group">
            <label class="col-xs-3">自动断网<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="通过断开网络降低设备功耗，可通过刷卡或重启唤醒设备. "></i></label>
            <span class="col-xs-9 col-md-5">
                    <select class="form-control input-sm" id="disable_wifi_after_seconds" name="auto_restart_interval_seconds">
                      <option value='0'>保持连接</option>
                      <option value='180'>3 min后</option>
                      <option value='240'>4 min后</option>
                      <option value='300'>5 min后</option>
                      <option value='600'>10 min后</option>
                      <option value='900'>15 min后</option>
                      <option value='1800'>30 min后</option>
                    </select>
                  </span>
        </div>
     <div class="row form-group" id="hideap">
        <label class="col-xs-3">隐藏名称<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="You can choose to hide Wireless Network name, so your ESP does not broadcast SSID, keep in mind that people can still find your network if they are insist."></i></label>
        <div class="col-xs-9">
            <form>
                <label class="radio-inline">
                    <input type="radio" value="1" name="hideapenable">是</label>
                <label class="radio-inline">
                    <input type="radio" value="0" name="hideapenable" checked>否</label>
            </form>
        </div>
    </div>
    <div class="row form-group" id="dhcp">
        <label class="col-xs-3"> DHCP配置<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Choose if you want to get an IP address from DHCP server or not."></i></label>
        <div class="col-xs-9">
            <form>
                <label class="radio-inline">
                    <input type="radio" value="1" name="dhcpenabled" onclick="handleDHCP();" checked>动态IP</label>
                <label class="radio-inline">
                    <input type="radio" value="0" name="dhcpenabled" onclick="handleDHCP();">固定IP</label>
            </form>
        </div>
    </div>
    <div id="staticip1" style="display:none">
        <div class="row form-group">
            <label class="col-xs-3">固定地址<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign"  aria-hidden="true" data-html="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Enter IP Address<BR>(for example 192.168.4.1)"></i></label>
            <span class="col-xs-9 col-md-5">
              <input id="ipaddress" class="form-control input-sm" placeholder="eg. 192.168.1.20">
              </span>
        </div>
        <div class="row form-group">
            <label class="col-xs-3">子网掩码<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-html="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Enter Subnet Mask<BR>(for example 255.255.255.0)"></i></label>
            <span class="col-xs-9 col-md-5">
              <input id="subnet" class="form-control input-sm" placeholder="eg. 255.255.255.0">
              </span>
        </div>
    </div>
    <div id="staticip2" style="display:none">
        <div class="row form-group">
            <label class="col-xs-3">DNS服务</label>
            <span class="col-xs-9 col-md-5">
              <input id="dnsadd" class="form-control input-sm" placeholder="eg. 192.168.1.1">
              </span>
        </div>
        <div class="row form-group">
            <label class="col-xs-3">网关地址</label>
            <span class="col-xs-9 col-md-5">
              <input id="gateway" class="form-control input-sm" placeholder="eg. 192.168.1.1">
              </span>
        </div>
    </div>
    <br>
    <div class="col-xs-9 col-md-8">
        <button onclick="savenetwork()" class="btn btn-primary btn-sm pull-right">保存</button>
    </div>
</div>

<div id="ntpcontent">
    <br>
    <br>
    <legend>网络对时</legend>
    <h6 class="text-muted"> <a href="http://www.ntp.org/">通过NTP服务同步网络时间到设备</a> .</h6>
	<br>
    <div class="row form-group">
        <label class="col-xs-3">设备时间</label>
        <span id="utc" class="col-xs-9 col-md-5">
              </span>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">本地时间</label>
        <span id="rtc" class="col-xs-9 col-md-5">
              </span>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">NTP 服务<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="The server for the time sync. Choose nearest server for better accuracy, see ntp.org for servers nearby."></i></label>
        <span class="col-xs-9 col-md-5">
              <input class="form-control input-sm" placeholder="eg. pool.ntp.org" value="pool.ntp.org" id="ntpserver" type="text">
              </span>
        <br>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">同步间隔<i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="Intervals between Time Sync in Minutes"></i></label>
        <span class="col-xs-9 col-md-5">
              <input class="form-control input-sm" placeholder="in Minutes" value="30" id="intervals" type="text">
              </span>
        <br>
    </div>
    <div class="row form-group">
        <label class="col-xs-3">时区选择</label>
        <span class="col-xs-9 col-md-5">
                <select class="form-control input-sm" name="DropDownTimezone" id="DropDownTimezone">
                  <option value="-12">(GMT -12:00) Eniwetok, Kwajalein</option>
                  <option value="-11">(GMT -11:00) Midway Island, Samoa</option>
                  <option value="-10">(GMT -10:00) Hawaii</option>
                  <option value="-9">(GMT -9:00) Alaska</option>
                  <option value="-8">(GMT -8:00) Pacific Time (US &amp; Canada)</option>
                  <option value="-7">(GMT -7:00) Mountain Time (US &amp; Canada)</option>
                  <option value="-6">(GMT -6:00) Central Time (US &amp; Canada), Mexico City</option>
                  <option value="-5">(GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima</option>
                  <option value="-4">(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz</option>
                  <option value="-3.5">(GMT -3:30) Newfoundland</option>
                  <option value="-3">(GMT -3:00) Brazil, Buenos Aires, Georgetown</option>
                  <option value="-2">(GMT -2:00) Mid-Atlantic</option>
                  <option value="-1">(GMT -1:00 hour) Azores, Cape Verde Islands</option>
                  <option value="0">(GMT) Western Europe Time, London, Lisbon, Casablanca</option>
                  <option value="1">(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris</option>
                  <option value="2">(GMT +2:00) Kaliningrad, South Africa</option>
                  <option value="3">(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg</option>
                  <option value="3.5">(GMT +3:30) Tehran</option>
                  <option value="4">(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi</option>
                  <option value="4.5">(GMT +4:30) Kabul</option>
                  <option value="5">(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent</option>
                  <option value="5.5">(GMT +5:30) Bombay, Calcutta, Madras, New Delhi</option>
                  <option value="5.75">(GMT +5:45) Kathmandu</option>
                  <option value="6">(GMT +6:00) Almaty, Dhaka, Colombo</option>
                  <option value="7">(GMT +7:00) Bangkok, Hanoi, Jakarta</option>
                  <option selected="selected"  value="8">(GMT +8:00) 北京,重庆,乌鲁木齐</option>
                  <option value="9">(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk</option>
                  <option value="9.5">(GMT +9:30) Adelaide, Darwin</option>
                  <option value="10">(GMT +10:00) Eastern Australia, Guam, Vladivostok</option>
                  <option value="11">(GMT +11:00) Magadan, Solomon Islands, New Caledonia</option>
                  <option value="12">(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka</option>
                </select>
              </span>
        <br>
    </div>
    <div class="row form-group">
            <div class="col-xs-3">
                <button onclick="syncBrowserTime()" class="btn btn-link btn-sm">同步时钟</button><i style="margin-left: 10px;" class="glyphicon glyphicon-info-sign" aria-hidden="true" data-toggle="popover" data-trigger="hover" data-placement="right" data-content="将该浏览器的时钟同步到设备中 ."></i>
            </div>
        </div>
    <br>
    <div class="col-xs-9 col-md-8">
        <button onclick="saventp()" class="btn btn-primary btn-sm pull-right">保存配置</button>
    </div>
    <br>
    <br>
</div>

<div id="statuscontent">
    <br>
    <div class="row text-center">
        <div class="col-md-8 col-md-offset-2">
            <h1>RFID</h1>
            <!-- <p>Qful：RFID读写器终端</p> -->
            <div class="panel panel-default">
                <div class="panel-body">
                    <span>RFID射频识别读写终端   </span>&nbsp; <small><strong><span id="sver"></span></strong></small>
                </div>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
            <div class="panel panel-default table-responsive">
                <table class="table table-hover table-striped table-condensed">
                    <caption>设备信息</caption>
                    <tr>
                        <th>设备编号</th>
                        <td id="chip"></td>
                    </tr>
                    <tr>
                        <th>CPU频率</th>
                        <td id="cpu"></td>
                    </tr>
                    <tr>
                        <th>运行时长</th>
                        <td id="uptime"></td>
                    </tr>
                    <tr>
                        <th>内存空间</th>
                        <td>
                            <div class="progress" style="margin-bottom: 0 !important;">
                                <div id="heap" class="progress-bar progress-bar-primary" role="progressbar">
                                    Progress
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>程序空间</th>
                        <td>
                            <div class='progress' style="margin-bottom: 0 !important;">
                                <div id="flash" class="progress-bar progress-bar-primary" role="progressbar">
                                    Progress
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th>文件系统</th>
                        <td>
                            <div class='progress' style="margin-bottom: 0 !important;">
                                <div id="spiffs" class="progress-bar progress-bar-primary" role="progressbar">
                                    Progress
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="panel panel-default table-responsive">
                <table class="table table-hover table-striped table-condensed">
                    <caption>网络状态</caption>
                    <tr>
                        <th>SSID</th>
                        <td id="ssidstat"></td>
                    </tr>
                    <tr>
                        <th>IP V4</th>
                        <td id="ip"></td>
                    </tr>
                    <tr>
                        <th>Gate</th>
                        <td id="gate"></td>
                    </tr>
                    <tr>
                        <th>Mask</th>
                        <td id="mask"></td>
                    </tr>
                    <tr>
                        <th>DNS</th>
                        <td id="dns"></td>
                    </tr>
                    <tr>
                        <th>MAC</th>
                        <td id="mac"></td>
                    </tr>
                </table>
            </div>
        </div>
        <br>
        <br>
    </div>
</div>

<div id="userscontent">
    <div id="loading-img" class="text-center">
        <h5>同步数据... <span id="loadpages"></span></h5>
    </div>
    <br>
    <div class="text-center" id="usersbanner">
        <h2>用户列表 </h2>
        <p>刷卡识别新用户，可以手动输入配置新用户相关信息</p>
    </div>
    <br>
    <div class="panel panel-default">
        <table id="usertable" class="table" data-paging="true" data-filtering="true" data-sorting="true" data-editing="true" data-state="true"></table>
    </div>
    <div class="modal fade" id="editor-modal" tabindex="-1" role="dialog" aria-labelledby="editor-title">
        <style scoped>
        .form-group.required .control-label:after {
            content: "*";
            color: red;
            margin-left: 4px;
        }
        </style>
        <div class="modal-dialog" role="document">
            <form class="modal-content form-horizontal" id="editor">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                    <h4 class="modal-title" id="editor-title">添加</h4>
                </div>
                <div class="modal-body">
                    <input type="number" id="id" name="id" class="hidden" />
                    <div class="form-group">
                        <label for="picctype" class="col-sm-3 control-label">类型</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="picctype" name="picctype" placeholder="类型" disabled>
                        </div>
                    </div>
                    <div class="form-group required">
                        <label for="uid" class="col-sm-3 control-label">卡号</label>
                        <div class="col-sm-9" style="font-family:monospace">
                            <input type="text" class="form-control" id="uid" name="uid" placeholder="卡号" required>
                        </div>
                    </div>
                    <div class="form-group required">
                        <label for="username" class="col-sm-3 control-label">备注</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" id="username" name="username" placeholder="签名" required>
                        </div>
                    </div>
                    <div class="form-group required">
                        <label for="acctype" class="col-sm-3 control-label">权限类型</label>
                        <div class="col-sm-9">
                            <select class="form-control" id="acctype" required>
                                <option selected="selected" value="1">通行</option>                          
                                <option value="2">禁止</option>
                                <option value="3">限制</option>
                                <option value="10">关注</option> 
                                <option value="99">管理</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group required">
                        <label for="validuntil" class="col-sm-3 control-label">有效期至</label>
                        <div class="col-sm-9">
                            <input type="date" class="form-control" id="validuntil" name="validuntil" value="2029-10-01" placeholder="有效期至" required>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">保存</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                </div>
            </form>
        </div>
    </div>
    <br>
    <br>
</div>